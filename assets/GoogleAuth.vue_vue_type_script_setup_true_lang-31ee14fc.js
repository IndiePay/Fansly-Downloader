import{ab as w,a7 as B}from"./index-a8514ad4.js";import{z as k,a1 as b,D as c,F as l,G as p,H as f,J as I,af as v,ae as V,I as _,a4 as C,a8 as $,ag as G,aE as A,ap as R}from"./common-1bc81878.js";import{_ as E}from"./Button-16decfdb.js";const F={class:"relative"},x={key:0,class:"flex border-r border-gray-200"},D=["type","autofocus","placeholder"],S={key:1,class:"flex"},q=k({__name:"InputItem",props:{modelValue:{},type:{},disabled:{type:Boolean},icon:{},autofocus:{type:Boolean},required:{type:Boolean},placeholder:{}},emits:["change","update:modelValue"],setup(g,{expose:m,emit:d}){const r=d,i=g,s=b({get:()=>i.modelValue,set:e=>r("update:modelValue",e)}),a=c(null),t=c(null),n=c(i.type),h=()=>{var e;i.required&&!s.value&&((e=a.value)==null||e.classList.add("error"))};return m({focus:()=>{var e;(e=t.value)==null||e.focus()},blur:()=>{var e;(e=t.value)==null||e.blur()}}),(e,o)=>(l(),p("div",F,[f("div",{ref_key:"inputIWrapRef",ref:a,class:"input-item"},[e.icon?(l(),p("div",x,[f("i",{class:I(e.icon)},null,2)])):v("",!0),V(f("input",{ref_key:"inputRef",ref:t,"onUpdate:modelValue":o[0]||(o[0]=u=>C(s)?s.value=u:null),type:e.type,autofocus:e.autofocus,placeholder:e.placeholder,onFocusin:o[1]||(o[1]=u=>{var y;return(y=_(a))==null?void 0:y.classList.remove("error")}),onBlur:h,onChange:o[2]||(o[2]=u=>e.$emit("change"))},null,40,D),[[w,_(s)]]),e.type=="password"?(l(),p("div",S,[e.type=="password"?(l(),p("i",{key:0,class:"i-ant-design:eye-twotone !bg-transparent text-gray-500",onClick:o[3]||(o[3]=u=>n.value="text")})):(l(),p("i",{key:1,class:"i-ant-design:eye-invisible-twotone !bg-transparent text-gray-500",onClick:o[4]||(o[4]=u=>n.value="password")}))])):v("",!0)],512),$(e.$slots,"default",{},void 0,!0)]))}});const T=B(q,[["__scopeId","data-v-271ddcd1"]]),U=k({__name:"GoogleAuth",emits:["success","error"],setup(g,{emit:m}){const d=m,r=c(!1),i=async()=>(r.value=!0,new Promise((s,a)=>{chrome.identity.getAuthToken({interactive:!0},t=>{console.log("token: "+t),t?A({token:t}).then(n=>{console.log(n),R(n),s(n),d("success",n)}):(d("error",new Error("Google Auth Failed")),a(new Error("Google Auth Failed"))),r.value=!1})}));return(s,a)=>{const t=E;return l(),G(t,{loading:_(r),type:"primary",icon:"i-flat-color-icons:google",text:"Sign in with Google",onClick:i},null,8,["loading"])}}});export{T as _,U as a};
